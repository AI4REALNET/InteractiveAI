#orange_ctx {
  --duration: 0.3s;
  --unit: 4px;
  --white-900: #fff;
  --black-100: #282a36;
  --black-500: #44475a;
  --black-900: #6272a4;
  --red-100: #a00;
  --red-500: #f55;
  --orange-100: #ff8400;
  --orange-500: #ffb86c;
  --green-100: #05ad2f;
  --green-500: #50fa7b;
}

#orange_ctx_container {
  position: relative;
}

#orange_ctx_container * {
  user-select: none;
}

#orange_chart {
  position: absolute;
  bottom: 0;
  left: 0;

  width: 100%;
  pointer-events: none;
}

#orange_ctx_container #orange_graph {
  height: 100%;
  width: 100%;
  cursor: grab;
  overscroll-behavior: none;
}

#orange_ctx_container #orange_graph:active {
  cursor: grabbing;
}

.tooltip {
  position: absolute;
  background-color: var(--black-500);
  color: var(--white-900);
  border: var(--unit) solid var(--black-100);
  font-family: monospace;
  padding: var(--unit);
  border-radius: calc(var(--unit) * 2);
  pointer-events: none;
  white-space-collapse: preserve;
}

.node *,
.link {
  transition: var(--duration);
}

.node,
.tooltip {
  transition: opacity var(--duration);
}

.node {
  cursor: pointer;
  --node-text: var(--white-900);
  --node-fill: var(--black-500);
  --node-stroke: var(--black-100);
}

.node:active {
  cursor: grabbing;
}

.node text {
  text-anchor: middle;
  fill: var(--node-text);
  font-size: 0.6em;
  font-weight: bold;
}

.node circle {
  fill: var(--node-fill);
  stroke: var(--node-stroke);
  stroke-width: calc(var(--unit) * 2);
  paint-order: stroke;
}

.node:hover {
  --node-stroke: var(--black-500);
  --node-fill: var(--black-900);
}

#orange_graph:has(.active) .node:not(.active),
#orange_graph:has(.active) .link:not(.active) {
  opacity: 0;
}

#orange_graph:has(.hover) .node:not(.active) {
  opacity: 0.3;
}

#orange_graph:has(.hover) .link:not(.active) {
  opacity: 0.1;
}

.node.active,
.link.active {
  z-index: 1000;
}

.node.focus {
  --node-stroke: var(--red-100);
  --node-fill: var(--red-500);
}

.node.ROUTINE {
  animation: ROUTINE var(--duration) infinite alternate;
}

.node.ACTION {
  animation: ACTION var(--duration) infinite alternate;
}

.link {
  stroke-width: 3;
}

@keyframes ACTION {
  to {
    --node-stroke: var(--orange-100);
    --node-fill: var(--orange-500);
  }
}

@keyframes ROUTINE {
  to {
    --node-stroke: var(--orange-100);
    --node-fill: var(--orange-500);
  }
}
