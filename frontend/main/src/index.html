<!-- Copyright (c) 2018-2022, RTE (http://www.rte-france.com)              -->
<!-- See AUTHORS.txt                                                       -->
<!-- This Source Code Form is subject to the terms of the Mozilla Public   -->
<!-- License, v. 2.0. If a copy of the MPL was not distributed with this   -->
<!-- file, You can obtain one at http://mozilla.org/MPL/2.0/.              -->
<!-- SPDX-License-Identifier: MPL-2.0                                      -->
<!-- This file is part of the OperatorFabric project.                      -->



<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Assistant CAB v2</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style title="opfabRootStyle">
    /** 
Style parameters is define using css variables --params

Just two variables are set here , the complete style is set by the navbar.component.ts using global-style.service.ts.

This two values are used when navbar is not yet loaded

These two parameters are place in this file as the style should have a title parameter (it 's not possible to give a name for the style in the angular.json file). 

*/


    :root {
      --opfab-bgcolor: #262f3d;
      --opfab-bgcolor-darker: #262f3d;
      --opfab-text-color: white;
      --opfab-input-text-color: white;
      --opfab-form-border-color: #606267;
      --opfab-form-label-text-color: #bababa;
    }
  </style>

  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script>
    var selectedUseCase = "none";
    var token = window.localStorage.token;
    var opFabPort = "2002";
    var activeUser;
    var entities;
    var groups;
    var mapInitialized = false;
    var latitude;
    var longitude;
    var altitude;
    var authorizedUseCase;
    var map;
    var sncfMarker;
    var markers = {};
    var increasedLongitude = -4.09445;
    var tokenSynchronizeUrl = ""

    checkTokenToMatchUseCase();


    function checkTokenToMatchUseCase(){
      if(window.location.host.includes("localhost")){
        tokenSynchronizeUrl = "http://192.168.211.95" + ":" + opFabPort + "/users/users/synchronizeWithToken";
      }
      else{
        tokenSynchronizeUrl = "/users/users/synchronizeWithToken";
      }
      var request = new XMLHttpRequest();
      request.onreadystatechange= function () {
          if (request.readyState==4) {
            response = JSON.parse(request.responseText)
            activeUser = response.login;
            entities = response.entities;
            groups = response.groups;
            authorizedUseCase = entities[0];
            return entities[0];
          }
          console.log("token checked")
      }

      request.open("POST",tokenSynchronizeUrl, true);

      request.setRequestHeader("Accept","application/json");
      request.setRequestHeader("Authorization","Bearer "+token);
      request.send();
          
    }
    function selectUseCase(uc){
      if (uc == authorizedUseCase){
        grantedUseCase(authorizedUseCase);
      }else{
        alert("Error: You're not allowed to access this environment")
      }
    }

    function grantedUseCase(uc) {
      selectedUseCase = uc;
      document.documentElement.requestFullscreen();
      console.log(uc + " selected as use case");
      switch (uc) {
        case "RTE":
          document.getElementById("rte_checkboxes").hidden = false;
          document.getElementById("assist").hidden = false;
          document.getElementById("assistOpTitle").classList.add("assist_rte");
          document.getElementById("opfab-card-list").classList.add("rteNotifs");
          document.getElementById("opfab-feedbar").classList.add("rteNotifs");
          document.getElementById("empty_block").hidden = true;
          document.getElementById("ctxImg").hidden = false;
          document.getElementById("map").hidden = true;
          setInterval(() => {
            refreshCtxRTE();
          }, 30000);
          break;
        case "DA":
          getCoordinates();
          document.getElementById("dassault_div").hidden = false;
          document.getElementById("dassault_assist").hidden = false;
          document.getElementById("dassault_assist_content_noContent").hidden = false;
          document.getElementById("dassaultBar").hidden = false;
          document.getElementById("dassaultBar2").hidden = false;
          document.getElementById("feed-content").style.position = "absolute";
          document.getElementById("opfab-navbar-menu-feed").text = "CAB Dassault";
          document.getElementById("opfab-navbar-menu-menu1").text = "";
          document.getElementById("opfab-navbar-menu-feed").style.borderBottomStyle = "none";
          document.getElementById("of_timeline").style.backgroundColor = "black";
          document.getElementById("ctx_div").classList += " dassault_ctx_div";
          document.getElementById("notifs_DA").hidden = false;
          document.getElementById("bar").hidden = true;
          document.getElementById("bar2").hidden = true;
          document.getElementById("opfab-feed-filter-btn-filter").hidden = true;
          document.getElementById("of_timeline").style.zIndex = 5;
          document.getElementById("map").classList += " map_da";
          document.getElementById("notifContainer").innerHTML = document.getElementById("notifContainer").innerHTML.replace("Notifications","Failures");
          setInterval(() => {
            refreshCtxDA();
          }, 1000);
          opfabStyle.setCss(opfabStyle.NIGHT_STYLE);
          setDANotifications();
          break;
        case "ORANGE":
          document.getElementById("opfab-navbar-menu-feed").text = "CAB Orange";
          document.getElementById("opfab-navbar-menu-menu1").text = "";
          document.getElementById("opfab-navbar-menu-feed").style.borderBottomStyle = "none";
          break;
        case "SNCF":
          document.getElementById("opfab-navbar-menu-feed").text = "CAB SNCF";
          document.getElementById("opfab-navbar-menu-menu1").text = "";
          document.getElementsByClassName('opfab-navbar')[0].style.backgroundColor = "#009AA6"
          document.getElementById("opfab-navbar-menu-feed").style.color = "white"
          document.getElementById("bar").hidden = true;
          document.getElementById("bar2").hidden = true;
          document.getElementById("opfab-navbar-menu-feed").style.borderBottomStyle = "none";
          // document.getElementById("ctx_div").style.marginLeft = "440px";
          document.getElementById("assist").hidden = false;
          document.getElementById("assistOpTitle").classList += " sncf assist_sncf assistOpTitle";
          document.getElementById("assistOpTitle").style.top = "80px";
          document.getElementById("feed-content").style.position = "absolute";
          document.getElementById("feed-content").style.marginTop = "0px";
          document.getElementById("sncfControl").hidden = false;
          document.getElementById("feed-content").classList += " sncf";
          document.getElementById("ctx_div").classList+= " sncf sncf_ctx_div"
          document.getElementById("map").classList += " map_sncf";
          setInterval(() => {
            refreshCtxSNCF();
          }, 110);
          mapSNCF();
          break;

      }
      document.getElementById("homescreen").style = "display:none";
      document.getElementById("assistOpTitle").hidden = false;
    }

    function selectDassaultCtx(type) {
      switch (type) {
        case "dependances":
          document.getElementById("dependances").hidden = false;
          document.getElementById("synoptique").hidden = true;
          document.getElementById("carte").hidden = true;
          document.getElementById("map").hidden = true;
          document.getElementById("synoptic_back").hidden = true;
          break;
        case "carte":
          document.getElementById("dependances").hidden = true;
          document.getElementById("synoptique").hidden = true;
          document.getElementById("carte").hidden = false;
          document.getElementById("map").hidden = false;
          document.getElementById("synoptic_back").hidden = true;
          if (!mapInitialized) {
            initMap("Dassault");
            mapInitialized = true;
          }
          break;
        case "synoptique":
          document.getElementById("dependances").hidden = true;
          document.getElementById("synoptic_back").hidden = false;
          document.getElementById("synoptique").hidden = false;
          document.getElementById("carte").hidden = true;
          document.getElementById("map").hidden = true;
          break;

      }
    }
    function selectSNCFCtx(type) {
      switch (type) {
        case "incident":
          document.getElementById("map").hidden = true;
          document.getElementById("sncf_ctx").hidden=true;
          document.getElementById("sncf_incident_infos").hidden=false;
          document.getElementById("history").hidden=false;
          document.getElementById("incident").classList.remove("toBlink");
          break;
        case "materiel":
          document.getElementById("map").hidden = true;
          document.getElementById("sncf_ctx").hidden=false;
          document.getElementById("sncf_incident_infos").hidden=true;
          document.getElementById("history").hidden=true;
          document.getElementById("materiel").classList.remove("toBlink");
          break;
        case "carte":
          document.getElementById("map").hidden = false;
          document.getElementById("sncf_ctx").hidden=true;
          document.getElementById("history").hidden=true;
          document.getElementById("sncf_incident_infos").hidden=true;
          break;

      }
    }
    
    function displayStats(value){
      switch (value){
        case 'stat':
          document.getElementById("synoptic_back").innerHTML = "<img class ='imgMarged' style='margin-top: 30px' src='assets/images/DA_stats.png'>";
          break;
        default : 
        document.getElementById("synoptic_back").innerHTML = "<b style='margin-top: 80px; color:white'>Nothing to show</b>";
          break;
      }
    }
       
    function setDANotifications(){
      try {
              setCardsForDA();
              setDescsForDA();
            } catch (error) {
            }
            try {
              setSeverityForDA();
            } catch (error) {
              
            }
    }
    if (selectedUseCase!= "DA"){
      setInterval(() => {
        setCardsSeverity();
      }, 3000);
    }

    function setCardsForDA() {
      var cards = document.getElementsByClassName("card");
      for (var card = 0; card < cards.length; card++) {
          cards[card].classList += " DA_Card light-card-detail-unselected-DA-MED";
        }
      }
          
    function setSeverityForDA() {
      var severities = document.getElementsByClassName("card-severity")
      for(var severity = 0;severities.length;severity++){
            severities[severity].textContent="";
        }
      }
    function setDescsForDA() {
        var descs = document.getElementsByClassName("p-1");
        for(var desc = 0;descs.length;desc++){
            descs[desc].textContent="";
        }
    }

    function setCardsSeverity() {
      if (selectedUseCase == "SNCF"){
        var severities = document.getElementsByClassName("opfab-feed-list-card-severity")
        for (var severity = 0; severity < severities.length; severity++) {
           severities[severity].hidden = true
          }
          var descs = document.getElementsByClassName("p-1");

         var titles = document.getElementsByClassName("card-title")
         for (var titleSncf = 0; titleSncf < titles.length; titleSncf++) {
          titles[titleSncf].style.marginLeft = '40px'
        }
        for(var desc = 0;descs.length;desc++){
          try {
          descs[desc].hidden = true;
          } catch (error) {
            break;
          }
        }
      }
      var cards = document.getElementsByClassName("card");
      for (var card = 0; card < cards.length; card++) {
        cards[card].innerHTML = cards[card].innerHTML.replace("action ", "Sureté");
        cards[card].innerHTML = cards[card].innerHTML.replace("alarm ", "Sureté");
        cards[card].innerHTML = cards[card].innerHTML.replace("compliant ", "Routine ");
        cards[card].innerHTML = cards[card].innerHTML.replace("information ", "Routine ");
        if (selectedUseCase == "SNCF"){
          if (!cards[card].classList.contains("SNCF_card")){
            cards[card].classList.add("SNCF_Card");
          }
          //titre carte margé
          if (innerWidth > 1800){
            cards[card].children[0].style.marginLeft = '80px'
          }else{
            cards[card].children[0].style.marginLeft = '60px'
          }

          if (cards[card].classList.contains("light-card-detail-selected")){
            //carte selectionée classe SNCF
              cards[card].classList.add("sncf-light-card-selected");
              cards[card].classList.add("sncf-border-" + cards[card].attributes['severity'].value);
              cards[card].classList.remove("sncf-light-card-background-" + cards[card].attributes['severity'].value);
              cards[card].classList.add("sncfCard");
              cards[card].classList.remove("sncfCardNotSelected");
              cards[card].children[0].children[0].children[0].children[0].style.fontWeight = "100"
          }
          if (cards[card].classList.toString().includes("light-card-detail-unselected")){
            //carte selectionée classe SNCF
              cards[card].classList.remove("sncf-light-card-selected");
              try {
                
              } catch (error) {
                
              }
            
            try {
              cards[card].classList.add("sncf-light-card-background-" + cards[card].attributes['severity'].value);
              cards[card].classList.remove("sncfCard");
              cards[card].classList.add("sncfCardNotSelected");
              cards[card].classList.remove("sncf-border-" + cards[card].attributes['severity'].value);
              } catch (error) {
                console.info("non concerné, sncf")
              }
          }
          if(cards[card].classList.toString().includes("light-card-detail-unread")){
            // carte non lue
            cards[card].style.color="white";
          }
          else if (cards[card].classList.toString().includes("light-card-background-"+ cards[card].attributes['severity'].value) 
          && cards[card].classList.toString().includes("light-card-detail-selected")
           || cards[card].classList.toString().includes("light-card-background-"+ cards[card].attributes['severity'].value) 
          && cards[card].classList.toString().includes("sncf-light-card-selected") ){
            // retrait du background si carte selectionnée
            // cards[card].classList.remove("sncf-light-card-background-" + cards[card].attributes['severity'].value);
            // cards[card].classList.add("sncf-border-" + cards[card].attributes['severity'].value);
            // cards[card].classList.add("sncf-light-card-selected");
            // cards[card].classList.remove("light-card-detail-selected");
          }
        }else if (selectedUseCase == "RTE" && !cards[card].classList.toString().includes("light-card-border") ){
            cards[card].classList += " title-light-card-border-" + cards[card].attributes['severity'].value;
            cards[card].classList += " light-card-border-" + cards[card].attributes['severity'].value;
        }else if (selectedUseCase == "DA"){
          if (!cards[card].classList.toString().includes("light-card-background")){
            cards[card].classList += " light-card-background-" + cards[card].attributes['severity'].value;
          }
      }
    }
      if (selectedUseCase == "DA"){
        setDANotifications();
      }
    }
    
    function refreshCtxRTE() {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", "/cabcontext/api/v1/contexts?time=" + new Date().getTime(), false);
      xmlHttp.setRequestHeader("Authorization","Bearer "+token);
      xmlHttp.send(null);
      var response = JSON.parse(xmlHttp.responseText)[0].data.topology;
      document.getElementById("ctxImg").src = "data:image/png;base64," + response;
    };
    function refreshCtxDA() {
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open("GET", "/cabcontext/api/v1/contexts?time=" + new Date().getTime(), false);
      xmlHttp.send(null);
      var response = JSON.parse(xmlHttp.responseText)[0].data.topology;
      document.getElementById("ctxImg").src = "data:image/png;base64," + response;
    };
    function refreshCtxSNCF() {
      var xmlHttp = new XMLHttpRequest();
      // xmlHttp.open("GET", "/cabcontext/api/v1/contexts?time=" + new Date().getTime(), false);
      xmlHttp.open("GET", "http://192.168.211.95:3200/cabcontext/api/v1/contexts?time=" + new Date().getTime(), false);
      xmlHttp.setRequestHeader("Authorization","Bearer "+token);
      xmlHttp.send(null);
      var response = JSON.parse(xmlHttp.responseText);
      var trains = response[0].data.trains;
      setAndUpdateMarkersOnMap(trains);
    };
//     function deleteAllCookies() {
//     const cookies = document.cookie.split(";");

//     for (let i = 0; i < cookies.length; i++) {
//         const cookie = cookies[i];
//         const eqPos = cookie.indexOf("=");
//         const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
//         document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
//     }
//     localStorage.clear();

//     // setTimeout(window.location.reload(),3000);
// }
  </script>


  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
    integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin="" />
  <meta name="theme-color" content="#1976d2">
</head>

<body class="opfab-colors" id="bodyopfab" style="height:auto">

  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
    integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>
  <script>
    function getCoordinates(){
      var request = new XMLHttpRequest();
      request.onreadystatechange= function () {
          if (request.readyState==4) {
            try {
            response = JSON.parse(request.responseText)
            //temporary fix for coordinates
              latitude = parseFloat(response[0].data.Latitude.replace("(","").replace(")","").replace(",",""));
              longitude = parseFloat(response[0].data.Longitude.replace("(","").replace(")","").replace(",",""));
              altitude = parseFloat(response[0].data.Altitude.replace("(","").replace(")","").replace(",",""));
            } catch (error) {
              latitude = 47.9948;
              longitude = -4.09245;
            }
          
            console.log(response)
          }
      }
      request.open("GET","/cabcontext/api/v1/contexts", true);
      request.setRequestHeader("Accept","application/json");
      request.setRequestHeader("Authorization","Bearer "+token);
      request.send();
    }

    function mapSNCF(){
      mapZoom = 8;
          initialLayer = "http://{s}.tile.osm.org/{z}/{x}/{y}.png";
          railwayLayer = "https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png";
          defaultLatitude = 46.580224;
          defaultLongitude = 0.340375;
          map = L.map('map', {
            center: [defaultLatitude, defaultLongitude],
            zoom: mapZoom
          });
          var baseLayer = L.tileLayer(initialLayer).addTo(map);
          var topLayer = L.tileLayer(railwayLayer).addTo(map);

          let customIcon = {
            iconUrl: "https://upload.wikimedia.org/wikipedia/commons/0/0e/Basic_red_dot.png",
            iconSize: [40, 40]
          }
          let customIcon2 = {
            iconUrl: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Location_dot_grey.svg",
            iconSize: [40, 40]
          }
          let myIcon = L.icon(customIcon);


          let iconOptions = {
            title: "TGV 8872",
            draggable: false,
            icon: myIcon
          }
          let myIcon2 = L.icon(customIcon2);

          let iconOptions2 = {
            title: "TGV 8763",
            draggable: false,
            icon: myIcon2
          }

          // let marker = new L.Marker([47.99501, -4.09445], iconOptions);
          // marker.addTo(map).bindPopup(iconOptions.title)
          //   .openPopup();
          // let marker2 = new L.Marker([47.9948, -4.09245], iconOptions2);
          // marker2.addTo(map).bindPopup(iconOptions2.title)
          //   .openPopup();
          //   sncfMarker = new L.Marker([defaultLatitude,defaultLongitude],iconOptions2);
          //   map.addLayer(sncfMarker);
    }
    function setAndUpdateMarkersOnMap(data) {

      data.forEach(function (train) {
        if (!markers.hasOwnProperty(train.id_train)) {
          if(train.failure){
        iconUrl = "/assets/images/icons/train_ko.png"
        }else{
          iconUrl = "/assets/images/icons/train_ok.png"
        }
        let trainIconSrc = {iconUrl,iconSize: [20, 20]}
        let trainIcon = L.icon(trainIconSrc);
          let iconOptions = {title: "TGV" + train.id_train,draggable: false,icon: trainIcon}
          // markers[train.id_train] = new L.Marker([train.latitude, train.longitude],iconOptions).addTo(map).bindPopup(iconOptions.title,{autoClose: false});
          markers[train.id_train] = new L.Marker([train.latitude, train.longitude],iconOptions).addTo(map).on('click', markerOnClick);
          // try {
          //   train.latitude
          //   train.longitude
          // } catch (error) {
            
          // }
          markers[train.id_train].attributes = train;
          markers[train.id_train].previousLatLngs = [];
        } else {
          if(train.latitude == null && train.longitude == null){
            lastLat = markers[train.id_train].previousLatLngs[markers[train.id_train].previousLatLngs.length-1].lat
            lastLong = markers[train.id_train].previousLatLngs[markers[train.id_train].previousLatLngs.length-1].lng
            markers[train.id_train].setLatLng([lastLat, lastLong]);
          }
          else {
            markers[train.id_train].previousLatLngs.push(markers[train.id_train].getLatLng());
            markers[train.id_train].setLatLng([train.latitude, train.longitude]);
          }
        }
      });
}

    function markerOnClick(e){
      markerOptions = e.sourceTarget.options;
      markerTitle = markerOptions.title.replace("TGV","");
      nb_passengers_connection = markers[markerTitle].attributes.nb_passengers_connection;
      nb_passengers_onboard = markers[markerTitle].attributes.nb_passengers_onboard;
      speed = markers[markerTitle].attributes.speed;
      map.setView([e.sourceTarget._latlng.lat,e.sourceTarget._latlng.lng],13)
      document.getElementById("sncf_ctx").innerHTML = '<div id="train_infos">' + "TGV n° : " + markerTitle +"<br>"
      + "Vitesse : " + speed + "km/h" +"<br>"
      + "Direction : Massy TGV" + "<br>"
      + "Voyageurs à bord : " + nb_passengers_onboard
      + "</div>"
      + "<span style='margin-top:5px'><b>Communication avec la rame </b></span>"
      + '<div id="train_welcome"><img src="assets\/images\/train_passengers.png"><span style="margin-left:5px;border: 1px solid">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span></div>';
      document.getElementById("materiel").classList.add("toBlink");
      markers[markerTitle].bindPopup(markerOptions.title + "<br> Vitesse: " + speed + " km/h" );
      
    }

    function initMap(usecase) {

      switch (usecase) {
        case 'Dassault':
          mapZoom = 8;
          mapLayer = "https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png";
          // valers par défaut si pas de contexte
          if(latitude === undefined || longitude === undefined){
              latitude = 47.9948;
              longitude = -4.09245;
          }
          var map = L.map('map', {
            center: [latitude,longitude],
            zoom: mapZoom
          });
          L.tileLayer(mapLayer, {
          }).addTo(map);
          let planeIcon = {
            iconUrl: "assets/images/plane_40x40.png",
            iconSize: [40, 40]
          }
          let myIcon3 = L.icon(planeIcon);
          let iconOptions3 = {
            draggable: false,
            icon: myIcon3
          }

          let planeMarker = new L.Marker([latitude, longitude], iconOptions3);
          planeMarker.addTo(map).bindPopup(iconOptions3.title)
          break;
      }
      console.log("map init OK")
    }

  </script>
  <div id="assistOpTitle" style="font-size: 18px; color: grey;position: absolute;top: 90px;" hidden>
  <!-- <div id="assistOpTitle" style="font-size: 18px; color: grey;position: absolute;left: 1178px;top: 90px;" hidden> -->
    <b id="assist" hidden>Assistance à l'opérateur</b>
    <div id="opfab-div-card-template-alarm" class="opfab-card-template-rendering" style="display:none;max-height:480px;font-size: 13px;width: 520px;">
      <b style="color:black">Parades</b><br><div><span class="rtePrd">Parade topologique : Prise de schéma au poste 16 </span><button class="rteBtn">Appliquer Parade</button><br>
      <span>Passage à 2 noeuds  LTTD: 15min</span></div>
      <!-- <span style="border-left:2px solid lightgrey"></span> -->
      <hr>
      <div><span class="rtePrd">Parade topologique : Prise de schéma au poste 12 </span><button class="rteBtn">Appliquer Parade</button><br>
      <span>Ouverture départ vers poste 11  LTTD: 10min</span></div>
      <hr>
      <div><span class="rtePrd">Parade injection : Effacement de 30% de l'éolien au poste 16 </span><button class="rteBtn">Appliquer Parade</button><br>
      <span>Production à la baisse LTTD: 15min</span></div>
    </div>
    <div id="opfab-div-card-template-security" class="opfab-card-template-rendering" style="display:none">
    <b style="color:black">Parades</b><br>
    <span>Aucune parade trouvée pour cet évènement</span>
    <hr>
    <div>
      Action suggérée - réaliser une étude complémentaire
      <button class="rteBtn">Utiliser l'outil d'étude</button>
    </div>
    </div>
    <div id="opfab-div-card-template-noparades" class="opfab-card-template-rendering" style="display:none">
      <b style="color:black">Parades</b><br>
      <span>Aucune parade trouvée pour cet évènement</span>
    </div>
    <div id="opfab-div-card-template-agent" class="opfab-card-template-rendering" style="display:none">
      <b style="color:black">Parades</b><br>
      <b style="font-size: 15px">Je ne suis pas en mesure de vous fournir une assistance pour cet évènement </b>
    </div>
    <b id="dassault_assist" hidden>Assistance</b>
    <div id="dassault_assist_content_noContent" hidden>
      <div id="da_bloc_content">
        <div class = "da_assist" id="noevent_da"> No Event Selected<br>
          Please select an event<br>
          to have assistance</div>
          <div class = "da_assist" id="high_procedure" hidden>
            <img src="assets\images\endofprocedure_da.png">
          </div>
          <div class = "da_assist" id="pdv_da" hidden>
            <img src="assets\images\pdv_da.png">
          </div>
      </div>
    </div>
  </div>
  <of-root></of-root>
  <noscript>Please enable JavaScript to continue using this application.</noscript>
</body>

</html>